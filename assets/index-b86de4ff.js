import{d as _,u as p,q as m,o as l,c as f,a,e as u,p as g,b as v}from"./index-87184455.js";import{_ as b}from"./_plugin-vue_export-helper-c27b6911.js";const k=t=>(g("data-v-67fbc603"),t=t(),v(),t),w={class:"page_container"},h={class:"nav_bar"},x=k(()=>a("span",{class:"nav_title"},"PostMessagePromisePage",-1)),P={name:"PostMessagePromise"},B=_({...P,setup(t){const c=p(),r=window.location.href+"/inner",i=s=>{var o;const e=document.getElementById("iframe");(o=e==null?void 0:e.contentWindow)==null||o.postMessage(s,"*")},n={getLoginToken:s=>{setTimeout(()=>{i({...s,response:{code:"0000",data:{loginToken:"123"+Math.random()*1e3}}})},1e3)},goBack:()=>{c.back()}},d=s=>{var o;const e=s.data.api;(o=n[e])==null||o.call(n,s.data)};return window.addEventListener("message",d),m(()=>{window.removeEventListener("message",d)}),(s,e)=>(l(),f("div",w,[a("div",h,[a("span",{class:"back_btn",onClick:e[0]||(e[0]=o=>u(c).back())}," < "),x]),a("iframe",{id:"iframe",src:r,frameborder:"0"})]))}});const M=b(B,[["__scopeId","data-v-67fbc603"]]);export{M as default};
